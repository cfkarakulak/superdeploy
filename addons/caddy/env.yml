# Environment variables for .env.superdeploy
variables:
  CADDY_VERSION:
    source: config
    from_project: "addons.caddy.version"
    default: "2-alpine"
    required: false
    description: "Caddy Docker image version"
    
  CADDY_DOMAIN:
    source: runtime
    from_ansible: "vm_domain"
    default: "${PROJECT}.example.com"
    required: true
    description: "Domain for this VM (set from vm_domains mapping in project.yml)"
    
  CADDY_EMAIL:
    source: config
    from_project: "ssl_email"
    default: "admin@example.com"
    required: true
    description: "Email for Let's Encrypt certificate notifications"
    
  CADDY_HTTP_PORT:
    source: config
    from_project: "addons.caddy.http_port"
    default: "80"
    required: false
    description: "HTTP port for Caddy"
    
  CADDY_HTTPS_PORT:
    source: config
    from_project: "addons.caddy.https_port"
    default: "443"
    required: false
    description: "HTTPS port for Caddy"
    
  CADDY_ADMIN_PORT:
    source: config
    from_project: "addons.caddy.admin_port"
    default: "2019"
    required: false
    description: "Caddy admin API port"
    
  CADDY_TLS_MODE:
    source: config
    from_project: "addons.caddy.tls_mode"
    default: "auto"
    required: false
    description: "TLS mode: auto (Let's Encrypt), internal (self-signed), off (no TLS)"

# GitHub Actions secrets mapping
github_secrets:
  - CADDY_DOMAIN
  - CADDY_EMAIL
  - CADDY_HTTP_PORT
  - CADDY_HTTPS_PORT
  - CADDY_ADMIN_PORT
  - CADDY_TLS_MODE

# Forgejo Actions secrets mapping (same as GitHub)
forgejo_secrets:
  - CADDY_DOMAIN
  - CADDY_EMAIL
  - CADDY_HTTP_PORT
  - CADDY_HTTPS_PORT
  - CADDY_ADMIN_PORT
  - CADDY_TLS_MODE
