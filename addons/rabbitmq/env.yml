# Environment variables for .env.superdeploy
variables:
  RABBITMQ_VERSION:
    source: config
    from_project: "addons.rabbitmq.version"
    env_name: "VERSION"
    default: "3.12-management-alpine"
    required: false
    description: "RabbitMQ Docker image version"
    
  RABBITMQ_HOST:
    source: runtime
    from_ansible: "ansible_default_ipv4.address"
    env_name: "HOST"
    default: "localhost"
    required: true
    description: "RabbitMQ hostname (resolved at runtime)"
    
  RABBITMQ_PORT:
    source: config
    from_project: "addons.rabbitmq.port"
    env_name: "PORT"
    default: "5672"
    required: false
    description: "RabbitMQ AMQP port"
    
  RABBITMQ_MANAGEMENT_PORT:
    source: config
    from_project: "addons.rabbitmq.management_port"
    env_name: "MANAGEMENT_PORT"
    default: "15672"
    required: false
    description: "RabbitMQ management UI port"
    
  RABBITMQ_USER:
    source: secret
    from_secrets: "USER"
    env_name: "RABBITMQ_DEFAULT_USER"
    default: "${PROJECT}_user"
    required: true
    description: "RabbitMQ username"
    
  RABBITMQ_PASSWORD:
    source: secret
    from_secrets: "PASSWORD"
    env_name: "RABBITMQ_DEFAULT_PASS"
    required: true
    generate: true
    description: "RabbitMQ password (auto-generated)"
    
  RABBITMQ_VHOST:
    source: secret
    from_secrets: "VHOST"
    env_name: "RABBITMQ_DEFAULT_VHOST"
    default: "/"
    required: false
    description: "RabbitMQ virtual host"

# GitHub Actions secrets mapping
github_secrets:
  - RABBITMQ_HOST
  - RABBITMQ_PORT
  - RABBITMQ_MANAGEMENT_PORT
  - RABBITMQ_USER
  - RABBITMQ_PASSWORD
  - RABBITMQ_VHOST

# GitHub Actions secrets mapping
github_secrets:
  - RABBITMQ_HOST
  - RABBITMQ_PORT
  - RABBITMQ_MANAGEMENT_PORT
  - RABBITMQ_USER
  - RABBITMQ_PASSWORD
  - RABBITMQ_VHOST
