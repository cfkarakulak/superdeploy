# Environment variables for .env.superdeploy
variables:
  RABBITMQ_VERSION:
    source: config
    from_project: "addons.rabbitmq.version"
    default: "3.12-management-alpine"
    required: false
    description: "RabbitMQ Docker image version"
    
  RABBITMQ_HOST:
    source: runtime
    from_ansible: "ansible_default_ipv4.address"
    default: "localhost"
    required: true
    description: "RabbitMQ hostname (resolved at runtime)"
    
  RABBITMQ_PORT:
    source: config
    from_project: "addons.rabbitmq.port"
    default: "5672"
    required: false
    description: "RabbitMQ AMQP port"
    
  RABBITMQ_MANAGEMENT_PORT:
    source: config
    from_project: "addons.rabbitmq.management_port"
    default: "15672"
    required: false
    description: "RabbitMQ management UI port"
    
  RABBITMQ_DEFAULT_USER:
    source: config
    from_project: "addons.rabbitmq.user"
    default: "${PROJECT}_user"
    required: true
    description: "RabbitMQ default username"
    
  RABBITMQ_DEFAULT_PASS:
    source: secret
    from_secrets: "RABBITMQ_DEFAULT_PASS"
    required: true
    generate: true
    description: "RabbitMQ default password (auto-generated)"
    
  RABBITMQ_DEFAULT_VHOST:
    source: config
    from_project: "addons.rabbitmq.vhost"
    default: "${PROJECT}_vhost"
    required: false
    description: "RabbitMQ default virtual host"

# GitHub Actions secrets mapping
github_secrets:
  - RABBITMQ_HOST
  - RABBITMQ_PORT
  - RABBITMQ_MANAGEMENT_PORT
  - RABBITMQ_DEFAULT_USER
  - RABBITMQ_DEFAULT_PASS
  - RABBITMQ_DEFAULT_VHOST

# Forgejo Actions secrets mapping (same as GitHub)
forgejo_secrets:
  - RABBITMQ_HOST
  - RABBITMQ_PORT
  - RABBITMQ_MANAGEMENT_PORT
  - RABBITMQ_DEFAULT_USER
  - RABBITMQ_DEFAULT_PASS
  - RABBITMQ_DEFAULT_VHOST
