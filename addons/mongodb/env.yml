# Environment variables for .env.superdeploy
variables:
  MONGODB_VERSION:
    source: config
    from_project: "addons.mongodb.version"
    env_name: "VERSION"
    default: "7.0"
    required: false
    description: "MongoDB Docker image version"
    
  MONGODB_HOST:
    source: runtime
    from_ansible: "ansible_default_ipv4.address"
    env_name: "HOST"
    default: "localhost"
    required: true
    description: "MongoDB hostname (resolved at runtime)"
    
  MONGODB_PORT:
    source: config
    from_project: "addons.mongodb.port"
    env_name: "PORT"
    default: "27017"
    required: false
    description: "MongoDB port"
    
  MONGODB_USERNAME:
    source: secret
    from_secrets: "USER"
    env_name: "USER"
    default: "${PROJECT}_user"
    required: true
    description: "Database username"
    
  MONGODB_PASSWORD:
    source: secret
    from_secrets: "PASSWORD"
    env_name: "PASSWORD"
    required: true
    generate: true
    description: "Database password (auto-generated)"
    
  MONGODB_DATABASE:
    source: secret
    from_secrets: "DATABASE"
    env_name: "DATABASE"
    default: "${PROJECT}_db"
    required: true
    description: "Database name"
    
  MONGODB_ROOT_PASSWORD:
    source: secret
    from_secrets: "ROOT_PASSWORD"
    env_name: "ROOT_PASSWORD"
    required: true
    generate: true
    description: "MongoDB root password (auto-generated)"

# GitHub Actions secrets mapping
github_secrets:
  - MONGODB_HOST
  - MONGODB_PORT
  - MONGODB_USERNAME
  - MONGODB_PASSWORD
  - MONGODB_DATABASE
  - MONGODB_ROOT_PASSWORD

# GitHub Actions secrets mapping
github_secrets:
  - MONGODB_HOST
  - MONGODB_PORT
  - MONGODB_USERNAME
  - MONGODB_PASSWORD
  - MONGODB_DATABASE
  - MONGODB_ROOT_PASSWORD
