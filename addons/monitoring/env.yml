# Environment variables for shared monitoring addon

variables:
  MONITORING_HOST:
    source: runtime
    from_ansible: "ansible_default_ipv4.address"
    required: false
    default: "localhost"
    description: "Monitoring server hostname or IP"
    
  GRAFANA_PORT:
    source: config
    from_project: "grafana.port"
    default: "3000"
    required: true
    description: "Grafana web interface port"
    
  GRAFANA_ADMIN_USER:
    source: config
    from_project: "grafana.admin_user"
    default: "admin"
    required: true
    description: "Grafana admin username"
    
  GRAFANA_ADMIN_PASSWORD:
    source: secret
    from_secrets: "GRAFANA_ADMIN_PASSWORD"
    required: true
    generate: true
    description: "Grafana admin password"
    
  PROMETHEUS_PORT:
    source: config
    from_project: "prometheus.port"
    default: "9090"
    required: true
    description: "Prometheus web interface port"
    
  PROMETHEUS_RETENTION:
    source: config
    from_project: "prometheus.retention"
    default: "15d"
    required: true
    description: "Prometheus data retention period"
  
  GRAFANA_DOMAIN:
    source: config
    from_project: "grafana.domain"
    required: false
    description: "Domain for Grafana HTTPS access (optional)"
  
  PROMETHEUS_DOMAIN:
    source: config
    from_project: "prometheus.domain"
    required: false
    description: "Domain for Prometheus HTTPS access (optional)"
  
  # Notification Configuration
  ALERT_EMAIL:
    source: config
    from_project: "notifications.alert_email"
    required: false
    description: "Email address for receiving alerts (optional)"
  
  SMTP_USER:
    source: config
    from_project: "notifications.smtp_user"
    required: false
    description: "SMTP username for sending emails (optional)"
  
  SMTP_PASSWORD:
    source: secret
    from_secrets: "SMTP_PASSWORD"
    required: false
    description: "SMTP password for sending emails (optional)"

# GitHub Actions secrets mapping
github_secrets:
  - GRAFANA_ADMIN_USER
  - GRAFANA_ADMIN_PASSWORD
  - GRAFANA_URL
  - PROMETHEUS_URL
  - ALERT_EMAIL
  - SMTP_USER
  - SMTP_PASSWORD
