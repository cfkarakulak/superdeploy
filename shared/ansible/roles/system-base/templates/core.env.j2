# Core VM Environment Variables
# Generated by Ansible

# Database Configuration
POSTGRES_DB=superdeploy
POSTGRES_USER=superdeploy
POSTGRES_PASSWORD={{ vault_postgres_password | default('superdeploy_secure_password_2025') }}
POSTGRES_HOST=localhost
POSTGRES_PORT=5432

# RabbitMQ Configuration
RABBITMQ_DEFAULT_USER=superdeploy
RABBITMQ_DEFAULT_PASS={{ vault_rabbitmq_password | default('superdeploy_secure_password_2025') }}
RABBITMQ_HOST=localhost
RABBITMQ_PORT=5672
RABBITMQ_MANAGEMENT_PORT=15672

# API Configuration
API_HOST=0.0.0.0
API_PORT=8000
API_WORKERS=2
API_LOG_LEVEL=info

# Proxy Registry Configuration
PROXY_REGISTRY_HOST=0.0.0.0
PROXY_REGISTRY_PORT=8080
PROXY_REGISTRY_DB_URL=postgresql://superdeploy:{{ vault_postgres_password | default('superdeploy_secure_password_2025') }}@localhost:5432/superdeploy

# Dashboard Configuration
DASHBOARD_HOST=0.0.0.0
DASHBOARD_PORT=3000
DASHBOARD_API_URL=http://localhost:8000

# Caddy Configuration
CADDY_DOMAIN={{ ansible_default_ipv4.address }}
CADDY_EMAIL=admin@superdeploy.local

# Environment
ENVIRONMENT=dev
DEBUG=false

# Logging
LOG_LEVEL=info
LOG_FORMAT=json

# Security
SECRET_KEY={{ vault_secret_key | default('superdeploy_secret_key_2025_change_in_production') }}
JWT_SECRET={{ vault_jwt_secret | default('superdeploy_jwt_secret_2025_change_in_production') }}

# Worker Configuration (for core VM)
WORKER_CONCURRENCY=2
WORKER_QUEUE=default
WORKER_PREFETCH=1

# Proxy Configuration
PROXY_TIMEOUT=30
PROXY_RETRY_COUNT=3
PROXY_ROTATION_INTERVAL=300

# Health Check Configuration
HEALTH_CHECK_INTERVAL=30
HEALTH_CHECK_TIMEOUT=10
HEALTH_CHECK_RETRIES=3