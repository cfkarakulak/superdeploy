# =============================================================================
# Orchestrator Configuration Template
# =============================================================================
# Copy this to config.yml and customize for your setup
# Then run: superdeploy orchestrator up
# =============================================================================

# =============================================================================
# Project Information
# =============================================================================
project:
  name: orchestrator
  ssl_email: ""  # For Let's Encrypt certificates (e.g., admin@yourdomain.com)

# =============================================================================
# Cloud Provider Configuration
# =============================================================================
gcp:
  project_id: "YOUR_GCP_PROJECT_ID"  # EDIT THIS (e.g., my-project-12345)
  region: "us-central1"
  zone: "us-central1-a"

# =============================================================================
# SSH Configuration
# =============================================================================
ssh:
  key_path: "~/.ssh/superdeploy_deploy"
  public_key_path: "~/.ssh/superdeploy_deploy.pub"
  user: "superdeploy"

# =============================================================================
# VM Configuration
# =============================================================================
vm:
  name: "orchestrator"
  machine_type: "e2-medium"
  disk_size: 50

# =============================================================================
# Network Configuration
# =============================================================================
network:
  vpc_name: "superdeploy-network"
  subnet_cidr: "10.128.0.0/20"

# =============================================================================
# Forgejo Configuration (Git Server + CI/CD)
# =============================================================================
forgejo:
  version: "13.0.1"
  port: 3001
  ssh_port: 2222
  admin_user: "YOUR_USERNAME"  # EDIT THIS (e.g., admin)
  admin_email: "YOUR_EMAIL@example.com"  # EDIT THIS
  org: "YOUR_ORG"  # EDIT THIS (e.g., mycompany)
  repo: "superdeploy"
  db_name: "forgejo"
  db_user: "forgejo"
  domain: ""  # Optional: Set for HTTPS access (e.g., git.yourdomain.com)

# =============================================================================
# Monitoring Configuration (Global - All Projects)
# =============================================================================
# Grafana and Prometheus run on orchestrator VM and monitor ALL projects
# Configure a single domain for global access (e.g., grafana.yourdomain.com)
# All projects will be visible in Grafana with project filtering

# Grafana Configuration
grafana:
  domain: ""  # Global monitoring domain (e.g., grafana.yourdomain.com)
  port: 3000
  # Alert notification settings (optional - configure in Grafana UI)
  smtp_enabled: false  # Set to true to enable email alerts
  smtp_host: ""  # e.g., smtp.gmail.com:587
  smtp_user: ""  # e.g., alerts@yourdomain.com
  # Variables: GRAFANA_ADMIN_USER, GRAFANA_ADMIN_PASSWORD, GRAFANA_SMTP_PASSWORD (from .env)

# Prometheus Configuration
prometheus:
  domain: ""  # Global metrics domain (e.g., prometheus.yourdomain.com)
  port: 9090
  retention: "15d"

# =============================================================================
# Caddy Configuration (Reverse Proxy for HTTPS)
# =============================================================================
caddy:
  enabled: false  # Set to true to enable domain-based HTTPS access
  version: "2-alpine"
  http_port: 80
  https_port: 443
  admin_port: 2019


