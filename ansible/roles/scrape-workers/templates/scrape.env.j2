# Scrape VM Environment Variables
# Generated by Ansible

# Core Services Configuration
CORE_API_HOST=10.0.0.4
CORE_API_PORT=8000
CORE_DB_HOST=10.0.0.4
CORE_DB_PORT=5432
CORE_DB_NAME=superdeploy
CORE_DB_USER=superdeploy
CORE_DB_PASSWORD={{ vault_postgres_password | default('superdeploy_secure_password_2025') }}

# RabbitMQ Configuration
RABBITMQ_HOST=10.0.0.4
RABBITMQ_PORT=5672
RABBITMQ_USER=superdeploy
RABBITMQ_PASSWORD={{ vault_rabbitmq_password | default('superdeploy_secure_password_2025') }}
RABBITMQ_VHOST=/

# Proxy Configuration
PROXY_REGISTRY_HOST=10.0.0.4
PROXY_REGISTRY_PORT=8080
PROXY_TIMEOUT=30
PROXY_RETRY_COUNT=3
PROXY_ROTATION_INTERVAL=300

# Worker Configuration
WORKER_CONCURRENCY=4
WORKER_PREFETCH=1
WORKER_QUEUE=scrape
WORKER_MAX_TASKS_PER_CHILD=100
WORKER_TASK_TIME_LIMIT=1800

# Browser Configuration
BROWSER_HEADLESS=true
BROWSER_TIMEOUT=30000
BROWSER_VIEWPORT_WIDTH=1920
BROWSER_VIEWPORT_HEIGHT=1080
BROWSER_USER_AGENT=Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/120.0.0.0 Safari/537.36

# Playwright Configuration
PLAYWRIGHT_BROWSERS_PATH=/opt/playwright-browsers
PLAYWRIGHT_SKIP_BROWSER_DOWNLOAD=false
PLAYWRIGHT_BROWSERS=chromium,firefox,webkit

# Scraping Configuration
SCRAPE_DELAY_MIN=1
SCRAPE_DELAY_MAX=3
SCRAPE_RETRY_COUNT=3
SCRAPE_TIMEOUT=30
SCRAPE_MAX_CONCURRENT=4

# Logging Configuration
LOG_LEVEL=info
LOG_FORMAT=json
LOG_FILE=/opt/superdeploy/logs/worker.log

# Environment
ENVIRONMENT=dev
DEBUG=false

# Security
SECRET_KEY={{ vault_secret_key | default('superdeploy_secret_key_2025_change_in_production') }}

# Health Check Configuration
HEALTH_CHECK_INTERVAL=30
HEALTH_CHECK_TIMEOUT=10
HEALTH_CHECK_RETRIES=3

# Resource Limits
MEMORY_LIMIT=8G
CPU_LIMIT=4.0

# Cache Configuration
CACHE_TTL=3600
CACHE_MAX_SIZE=1G
CACHE_PATH=/opt/superdeploy/browser-cache