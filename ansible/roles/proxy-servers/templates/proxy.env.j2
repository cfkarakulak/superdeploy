# Proxy VM Environment Variables
# Generated by Ansible

# Proxy Configuration
PROXY_EXTERNAL_IP={{ ansible_default_ipv4.address }}
PROXY_INTERNAL_IP={{ ansible_default_ipv4.address }}

# SOCKS5 Proxy Configuration (Dante)
SOCKS5_PORT=1080
SOCKS5_USER=superdeploy
SOCKS5_PASSWORD={{ vault_proxy_password | default('superdeploy_proxy_password_2025') }}

# HTTP Proxy Configuration (Tinyproxy)
HTTP_PROXY_PORT=3128
HTTP_PROXY_USER=superdeploy
HTTP_PROXY_PASSWORD={{ vault_proxy_password | default('superdeploy_proxy_password_2025') }}

# Alternative HTTP Proxy Port
ALT_HTTP_PROXY_PORT=8888

# Proxy Registry Configuration
PROXY_REGISTRY_HOST=10.0.0.4
PROXY_REGISTRY_PORT=8080
PROXY_REGISTRY_API_KEY={{ vault_proxy_registry_key | default('superdeploy_proxy_registry_key_2025') }}

# IP Monitoring Configuration
IP_CHECK_INTERVAL=300
IP_CHECK_URL=https://api.ipify.org
IP_UPDATE_ENDPOINT=http://10.0.0.4:8080/api/proxies/update

# Logging Configuration
LOG_LEVEL=info
LOG_FORMAT=json
LOG_FILE=/opt/superdeploy/logs/proxy.log

# Environment
ENVIRONMENT=dev
DEBUG=false

# Security
SECRET_KEY={{ vault_secret_key | default('superdeploy_secret_key_2025_change_in_production') }}

# Health Check Configuration
HEALTH_CHECK_INTERVAL=30
HEALTH_CHECK_TIMEOUT=10
HEALTH_CHECK_RETRIES=3

# Resource Limits
MEMORY_LIMIT=2G
CPU_LIMIT=1.0

# Connection Limits
MAX_CONNECTIONS=100
MAX_CONNECTIONS_PER_IP=10
CONNECTION_TIMEOUT=300

# Proxy Performance
PROXY_BUFFER_SIZE=8192
PROXY_KEEPALIVE=true
PROXY_KEEPALIVE_TIMEOUT=60

# Monitoring
METRICS_ENABLED=true
METRICS_PORT=9090
METRICS_PATH=/metrics

# Failover Configuration
FAILOVER_ENABLED=false
FAILOVER_THRESHOLD=5
FAILOVER_COOLDOWN=300