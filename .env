# =============================================================================
# SuperDeploy - Production Configuration
# =============================================================================
# ‚ö†Ô∏è  PRODUCTION DEPLOYMENT - Update passwords before deployment!

# =============================================================================
# üåç GCP / INFRASTRUCTURE CONFIGURATION
# =============================================================================
GCP_PROJECT_ID=galvanic-camp-475519-d6
GCP_REGION=us-central1
GCP_ZONE=us-central1-a

SSH_KEY_PATH=~/.ssh/cfk_gcp
SSH_USER=superdeploy

VM_MACHINE_TYPE=e2-medium
VM_DISK_SIZE=20
VM_IMAGE=ubuntu-2204-lts

# =============================================================================
# üåê VM NETWORK CONFIGURATION (Auto-filled by Terraform)
# =============================================================================
CORE_EXTERNAL_IP=34.56.43.99
CORE_INTERNAL_IP=10.0.0.12
SCRAPE_EXTERNAL_IP=34.67.236.167
SCRAPE_INTERNAL_IP=10.0.0.11
PROXY_EXTERNAL_IP=34.173.11.246
PROXY_INTERNAL_IP=10.0.0.13

# =============================================================================
# üîê SECURITY & PASSWORDS
# =============================================================================
# PostgreSQL Database
POSTGRES_DB=superdeploy
POSTGRES_USER=superdeploy
POSTGRES_PASSWORD=SuperSecurePostgresPass2025Random

# RabbitMQ Message Queue
RABBITMQ_DEFAULT_USER=superdeploy
RABBITMQ_DEFAULT_PASS=RabbitSecurePass2025RandomString

# API Service
API_SECRET_KEY=api_secret_key_min_64_chars_long_random_string_here_production_2025

# Proxy Registry
PROXY_REGISTRY_USER=admin
PROXY_REGISTRY_PASS=ProxyRegistryPass2025Random
PROXY_REGISTRY_API_KEY=proxy_registry_api_key_64_chars_random_production_2025_secure

# Proxy Server
PROXY_USER=proxyuser
PROXY_PASSWORD=ProxyServerPass2025Random

# JWT & App Secrets
SECRET_KEY=app_secret_key_64_chars_long_random_production_string_2025_secure
JWT_SECRET=jwt_secret_key_64_chars_long_random_production_string_2025_secure

# Forgejo Admin
FORGEJO_ADMIN_USER=cradexco
FORGEJO_ADMIN_PASSWORD=Admin123!ChangeME
FORGEJO_ADMIN_EMAIL=admin@superdeploy.io

# Forgejo Database
FORGEJO_DB_NAME=forgejo
FORGEJO_DB_USER=forgejo
FORGEJO_DB_PASSWORD=ForgejoDBPass2025Random

# =============================================================================
# üì¶ SERVICE CONFIGURATION (Auto-generated)
# =============================================================================
# Database
POSTGRES_HOST=postgres
POSTGRES_PORT=5432
API_DATABASE_URL=postgresql://${POSTGRES_USER}:${POSTGRES_PASSWORD}@${POSTGRES_HOST}:${POSTGRES_PORT}/${POSTGRES_DB}
PROXY_REGISTRY_DB_URL=postgresql://${POSTGRES_USER}:${POSTGRES_PASSWORD}@${POSTGRES_HOST}:${POSTGRES_PORT}/${POSTGRES_DB}

# RabbitMQ
RABBITMQ_HOST=rabbitmq
RABBITMQ_PORT=5672
RABBITMQ_MANAGEMENT_PORT=15672
RABBITMQ_VHOST=/
RABBITMQ_QUEUE_NAME=scraping_jobs
API_RABBITMQ_URL=amqp://${RABBITMQ_DEFAULT_USER}:${RABBITMQ_DEFAULT_PASS}@${RABBITMQ_HOST}:${RABBITMQ_PORT}${RABBITMQ_VHOST}

# API Service
API_HOST=0.0.0.0
API_PORT=8000
API_WORKERS=2
API_LOG_LEVEL=info

# Proxy Registry Service
PROXY_REGISTRY_HOST=0.0.0.0
PROXY_REGISTRY_PORT=8080

# Proxy Server
SOCKS5_PORT=1080
HTTP_PROXY_PORT=3128
IP_CHECK_INTERVAL=300
IP_CHECK_URL=https://api.ipify.org
IP_UPDATE_ENDPOINT=http://${CORE_INTERNAL_IP}:${PROXY_REGISTRY_PORT}/api/proxies/update
PROXY_ALLOWED_IPS=
PROXY_TIMEOUT=30
PROXY_RETRY_COUNT=3
PROXY_ROTATION_INTERVAL=300

# Worker Configuration
WORKER_CONCURRENCY=2
WORKER_LOG_LEVEL=info
WORKER_NAME=scrape-worker
PLAYWRIGHT_TIMEOUT=30000
PLAYWRIGHT_HEADLESS=true

# Scraping Configuration
USER_AGENT=Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/120.0.0.0 Safari/537.36
MAX_RETRIES=3
DOWNLOAD_DELAY=1
CONCURRENT_REQUESTS=5

# Monitoring & Logging
LOG_LEVEL=info
LOG_FORMAT=json
ENABLE_METRICS=true
SENTRY_DSN=

# Caddy Web Server
DOMAIN=${CORE_EXTERNAL_IP}
ACME_EMAIL=admin@superdeploy.io

# Environment
ENVIRONMENT=production
DEBUG=false
